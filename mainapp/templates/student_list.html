{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Data</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/line-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/dataTables.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/buttons.dataTables.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/select2.min.css' %}">
</head>
<style>
    .add-marks-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: #007bff; 
        color: #fff; 
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        text-decoration: none;
    }
</style>
<body>
    <a href="create_marksheet" class="add-marks-button">Add Markheet</a>
    <div class="container mt-5">
        <table id="student-table" class="table table-striped table-bordered table-hover">
            <thead class="bg-primary text-white">
                <tr>
                    <th>Name</th>
                    <th>Roll No</th>
                    <th>Hindi Marks</th>
                    <th>English Marks</th>
                    <th>Math Marks</th>
                    <th>Science Marks</th>
                    <th>Geography Marks</th>
                    <th>Class Level</th>
                    <th>Photo</th>
                    
                </tr>
            </thead>
        </table>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.10/js/jquery.dataTables.min.js"></script>
    <script src="{% static 'js/dataTables.bootstrap4.min.js' %}"></script>
    <script src="{% static 'js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'js/moment.min.js' %}"></script>

    <script>
        $(document).ready(function () {
            $('#student-table').DataTable({
                ajax: {
                    url: '/student_data',
                    dataSrc: 'data' 
                },
                columns: [
                    { data: 'name' },
                    { data: 'roll_no' },
                    { data: 'marks_hindi' },
                    { data: 'marks_english' },
                    { data: 'marks_math' },
                    { data: 'marks_science' },
                    { data: 'marks_grography' },
                    { data: 'class_level' },
                    {
                        data: 'photo',
                        render: function (data, type, row) {
                            return `<img src="/media/${data}" alt="Student Photo" width="50" height="50">`;
                        
                        }
                    }  ,
                                  
                ],


            });
            
        });
    </script>
</body>
</html>

